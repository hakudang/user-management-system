# 顧客要求書

## 1) このシステムを構築する目的は何ですか？（利用目的）
本プロジェクトは、**User Management System** を構築し、Admin・Staff・End User を含むすべてのユーザーアカウントを一元管理することを目的としています。  
本システムは、役割に応じた明確な権限設定が可能であり、セキュリティを確保しつつ、将来的な拡張性（SSO 追加や他システムとの連携など）にも対応できる構成とします。

## 2) 誰がこのシステムを利用しますか？（利用者と役割）
本システムの利用者は以下の 3 種類です：

- **Admin（管理者）**：システム全体を管理  
- **Staff（担当者）**：一部ユーザーの管理  
- **End User（一般ユーザー）**：自身のアカウント情報を管理  

## 3) システムに必要な機能は何ですか？（機能一覧）
- ログイン／ログアウト／セッションタイムアウト  
- パスワードリセット（メール送信）  
- アカウント登録  
- ユーザー一覧表示＋検索＋フィルタ＋ページネーション  
- ユーザーの作成／編集／削除（ソフトデリート）／ロック  
- ロール・権限管理  
- 操作ログ閲覧（Admin のみ）

## 4) ユーザー情報として何を保存しますか？（ユーザーデータモデル）

**必須項目:**  
email, password, full_name, phone_number, role, status, created_at, updated_at  

**任意項目:**  
address, gender, date_of_birth, note  

## 5) バリデーションおよび入力ルール
- Email：形式が正しいこと、重複不可  
- Password：8文字以上、英大文字／英小文字／数字／記号を含むこと  
- Name：255文字以内  
- Phone：13〜20文字  
- Address：255文字以内  
- Gender：0 または 1  
- Date_of_birth：YYYY-MM-DD形式、18歳以上  

## 6) 非機能要件（NFR）
- 最大 10,000 ユーザーの利用を想定  
- 同時接続 100 ユーザーを想定  
- 使いやすい UI/UX  
- データベースの毎日バックアップ  

## 7) セキュリティ要件、納品物、開発プロセス

### セキュリティ
- HTTPS 対応  
- BCrypt または Argon2 によるパスワードハッシュ  
- ログイン失敗回数制限  
- 操作ログ記録  
- セッションタイムアウト  

### 納品物
- ソースコード一式  
- デプロイ手順書  
- 利用マニュアル（Admin／Staff／User）  
- ERD（データモデル）  
- Admin の最上位権限アカウント  

### 開発プロセス
1. 要件分析  
2. 設計  
3. 開発  
4. テスト／UAT  
5. 本番デプロイ  
6. 保守  
